log {
<% if @source.is_a?(Array) -%>
<% @source.each do |s| -%>
  source(<%= s %>);
<% end -%>
<% else -%>
<% if @source -%>
  source(<%= @source %>);
<% end -%>
<% end -%>
<% if @parser -%>
  parser(<%= parser %>);
<% end -%>
<% if @rewrite -%>
  rewrite(<%= rewrite %>);
<% end -%>
<% if @filter.is_a?(Array) -%>
<% @filter.each do |f| -%>
  filter(<%= f %>);
<% end -%>
<% else -%>
<% if @filter -%>
  filter(<%= @filter %>);
<% end -%>
<% end -%>
<% if @filter_spec -%>
  filter(f_<%= @name %>);
<% end -%>
<% if @destination.is_a?(Array) -%>
<% @destination.each do |d| -%>
  destination(<%= d %>);
<% end -%>
<% else -%>
<% if @destination -%>
  destination(<%= @destination %>);
<% end -%>
<% end -%>
<% if @file -%>
  destination(d_<%= @name %>);
<% end -%>
<% if @fallback -%>
flags(fallback);
<% end -%>
};

